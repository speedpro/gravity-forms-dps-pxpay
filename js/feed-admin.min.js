// gravity-forms-dps-pxpay
// https://shop.webaware.com.au/downloads/gravity-forms-dps-pxpay/
jQuery(function(a){"use strict";function b(b){var e=parseInt(a("input[name='post_ID']").val(),10);b=parseInt(b,10),b&&b!=e?window.alert("That form already has a feed."):a.ajax({type:"GET",url:ajaxurl,cache:!1,dataType:"html",data:{action:"gfdpspxpay_form_fields",id:d},success:c})}function c(b){a(".gfdpspxpay-feed-fields select").each(function(){a(this).html(b)})}var d;a("select[name='_gfdpspxpay_form']").change(function(){d=a(this).val(),a(".gfdpspxpay-feed-fields select option").remove(),d&&a.ajax({type:"GET",url:ajaxurl,cache:!1,dataType:"text",data:{action:"gfdpspxpay_form_has_feed",id:d},success:b})}),a("form#post").submit(function(b){""===a("select[name='_gfdpspxpay_merchant_ref']",this).val()&&(b.preventDefault(),window.alert("You must map the Merchant Reference to a field in the form, or payment will not be processed!"))})});